{"version":3,"file":"js/278.de49da51.js","mappings":"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","sources":["webpack://project_macaron/./src/views/DashBoard/OrderList.vue","webpack://project_macaron/./src/components/OrderModal.vue","webpack://project_macaron/./src/components/OrderModal.vue?b91a","webpack://project_macaron/./src/views/DashBoard/OrderList.vue?6ffe"],"sourcesContent":["<template>\r\n  <LoadingVue :active=\"isLoading\" style=\"z-index: 1056\"></LoadingVue>\r\n  <OrderModal :temp-order=\"tempOrder\" @update-order=\"updateOrder\" ref=\"orderModal\"></OrderModal>\r\n  <deleteModal\r\n    ref=\"deleteModal\"\r\n    :delete-item=\"deleteOrder\"\r\n    :item=\"'訂單'\"\r\n    @delete=\"deleteId\"\r\n  ></deleteModal>\r\n  <div class=\"pt-4 py-3\">\r\n    <h2 class=\"m-0 text-secondary fw-bolder\">訂單列表</h2>\r\n  </div>\r\n  <table class=\"table table-hover align-middle\">\r\n    <thead>\r\n      <tr>\r\n        <th>訂單日期</th>\r\n        <th>訂單編號</th>\r\n        <th>訂單狀態</th>\r\n        <th>訂購人</th>\r\n        <th>使用優惠券</th>\r\n        <th class=\"text-end\">訂單金額</th>\r\n        <th width=\"250\" class=\"text-center\">查看內容/刪除</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody v-if=\"orderList.length > 0\">\r\n      <tr v-for=\"(order, key) in orderList\" :key=\"'order' + key\">\r\n        <td>{{ this.$filters.unixToDate(order.create_at) }}</td>\r\n        <td>{{ order.id }}</td>\r\n        <td :class=\"{'text-danger': !order.is_paid}\">{{ order.is_paid ? '訂單已完成' : '尚未付款' }}</td>\r\n        <td>{{ order.user.name }}</td>\r\n        <td>{{ Object.values(order.products)[0].coupon ? Object.values(order.products)[0].coupon.title: '無' }}</td>\r\n        <td class=\"text-end\">{{ `$${$filters.currency(order.total)}` }}</td>\r\n        <td class=\"text-center\">\r\n          <div\r\n            class=\"btn-group btn-group-sm\"\r\n            role=\"group\"\r\n            aria-label=\"Basic example\"\r\n          >\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-success\"\r\n              @click=\"editOrder(order)\"\r\n            >\r\n            查看內容\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-danger\"\r\n              @click=\"deleteConfirm(order)\"\r\n            >\r\n              刪除\r\n            </button>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <pagination :page-info=\"pageInfo\" @set-page=\"getOrderList\"></pagination>\r\n</template>\r\n\r\n<script>\r\nimport OrderModal from '@/components/OrderModal.vue'\r\nimport deleteModal from '@/components/DelModal.vue'\r\nimport pagination from '@/components/PaginationItem.vue'\r\nexport default {\r\n  data() {\r\n    return {\r\n      orderList: [],\r\n      tempOrder: {},\r\n      deleteOrder: {},\r\n      isLoading: false,\r\n      pageInfo: {}\r\n    }\r\n  },\r\n  components: {\r\n    OrderModal,\r\n    deleteModal,\r\n    pagination\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getOrderList(page = 1) {\r\n      this.isLoading = true\r\n      window.scrollTo({ top: 0 })\r\n      const API_GETORDER = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.axios\r\n        .get(API_GETORDER)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (!res.data.success) {\r\n            this.emitter.emit('sendMsg', {\r\n              message: `訂單讀取失敗：${res.data.message}`,\r\n              status: 'error'\r\n            })\r\n          } else {\r\n            this.orderList = res.data.orders\r\n            this.pageInfo = res.data.pagination\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          this.emitter.emit('sendMsg', {\r\n            message: `訂單讀取失敗：${e}`,\r\n            status: 'error'\r\n          })\r\n        })\r\n    },\r\n    deleteConfirm(order) {\r\n      this.deleteOrder = order\r\n      this.$refs.deleteModal.showModal()\r\n    },\r\n    editOrder(order) {\r\n      this.tempOrder = order\r\n      this.$refs.orderModal.showModal()\r\n    },\r\n    deleteId() {\r\n      this.isLoading = true\r\n      this.$refs.deleteModal.hideModal()\r\n      const API_DELETEORDER = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.deleteOrder.id}`\r\n      this.axios\r\n        .delete(API_DELETEORDER)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (!res.data.success) {\r\n            this.emitter.emit('sendMsg', {\r\n              message: `訂單刪除失敗：${res.data.message}`,\r\n              status: 'error'\r\n            })\r\n          } else {\r\n            this.emitter.emit('sendMsg', {\r\n              message: '訂單已刪除',\r\n              status: 'success'\r\n            })\r\n            this.getOrderList(this.pageInfo.current_page)\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          this.emitter.emit('sendMsg', {\r\n            message: `訂單刪除失敗：${e}`,\r\n            status: 'error'\r\n          })\r\n        })\r\n    },\r\n    updateOrder(order) {\r\n      const data = JSON.parse(JSON.stringify(order))\r\n      data.is_paid = !data.is_paid\r\n      const API_UPDATEORDER = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${data.id}`\r\n      this.axios\r\n        .put(API_UPDATEORDER, { data })\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (!res.data.success) {\r\n            this.emitter.emit('sendMsg', {\r\n              message: `訂單更新失敗：${res.data.message}`,\r\n              status: 'error'\r\n            })\r\n          } else {\r\n            this.emitter.emit('sendMsg', {\r\n              message: '已更新訂單資訊',\r\n              status: 'success'\r\n            })\r\n            this.tempOrder = data\r\n            this.getOrderList(this.pageInfo.current_page)\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          this.emitter.emit('sendMsg', {\r\n            message: `訂單更新失敗：${e}`,\r\n            status: 'error'\r\n          })\r\n        })\r\n    }\r\n  },\r\n  created() {\r\n    this.getOrderList()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <LoadingVue :active=\"isLoading\" style=\"z-index: 1056\"></LoadingVue>\r\n  <div class=\"modal fade\" tabindex=\"-1\" ref=\"orderModal\">\r\n    <div class=\"modal-dialog modal-lg modal-dialog-scrollable\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header bg-secondary\">\r\n          <h1 class=\"modal-title fs-5 text-white\">訂單內容</h1>\r\n          <button type=\"button\" class=\"btn-close\" @click=\"hideModal\"></button>\r\n        </div>\r\n        <div class=\"modal-body\" v-if=\"order.user\">\r\n          <div class=\"m-3 p-3 bg-secondary-subtle rounded\">\r\n            <h5 class=\"fw-bolder text-secondary\">訂單總覽</h5>\r\n            <div class=\"d-flex mb-1\">\r\n              <div class=\"me-5\">\r\n                <p class=\"mb-0 me-2 py-1\">\r\n                  <span class=\"fw-bolder pe-3\">訂單狀態</span\r\n                  ><span :class=\"{ 'text-danger': !order.is_paid }\">{{\r\n                    order.is_paid ? '訂單已完成' : '尚未付款'\r\n                  }}</span>\r\n                </p>\r\n                <p class=\"mb-2 mt-1\">\r\n                  <span class=\"fw-bolder pe-3\">訂單日期</span\r\n                  >{{ this.$filters.unixToDatetime(order.create_at) }}\r\n                </p>\r\n                <p class=\"mb-2\">\r\n                  <span class=\"fw-bolder pe-3\">訂單編號</span>{{ order.id }}\r\n                </p>\r\n              </div>\r\n              <div class=\"d-flex\">\r\n                <p class=\"mb-0 py-1\">\r\n                  <span class=\"fw-bolder pe-3\">修改狀態</span>\r\n                </p>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-sm btn-success py-1 me-2 align-self-start\"\r\n                  :class=\"{ disabled: order.is_paid }\"\r\n                  @click=\"$emit('updateOrder', order)\"\r\n                >\r\n                  已完成\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-sm btn-danger py-1 align-self-start\"\r\n                  :class=\"{ disabled: !order.is_paid }\"\r\n                  @click=\"$emit('updateOrder', order)\"\r\n                >\r\n                  未完成\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <table class=\"table border-dark mb-2\">\r\n              <thead>\r\n                <tr class=\"text-center\">\r\n                  <th>商品數量</th>\r\n                  <th>小計</th>\r\n                  <th>運費</th>\r\n                  <th>訂單優惠券</th>\r\n                  <th>優惠券折抵</th>\r\n                  <th>總計</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr class=\"text-center\">\r\n                  <td>\r\n                    共\r\n                    {{ orderItems.reduce((acc, cur) => (acc += cur.qty), 0) }}\r\n                    件\r\n                  </td>\r\n                  <td>\r\n                    {{\r\n                      `${$filters.currency(order.total + couponInfo.total)} 元`\r\n                    }}\r\n                  </td>\r\n                  <td>活動免運</td>\r\n                  <td>{{ couponInfo.title }}</td>\r\n                  <td>{{ `- ${$filters.currency(couponInfo.total)} 元` }}</td>\r\n                  <td>{{ `$ ${$filters.currency(order.total)} 元` }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"m-3 p-3 bg-secondary-subtle rounded\">\r\n            <h5 class=\"fw-bolder text-secondary\">訂購品項</h5>\r\n            <table class=\"table table-hover border-dark mb-2 text-center\">\r\n              <thead>\r\n                <tr>\r\n                  <th>品名</th>\r\n                  <th>產品代碼</th>\r\n                  <th>數量</th>\r\n                  <th>商品特價</th>\r\n                  <th class=\"text-end\">單價</th>\r\n                  <th class=\"text-end\">小計</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(item, key) in orderItems\" :key=\"'orderItems' + key\">\r\n                  <td>{{ item.product.title }}</td>\r\n                  <td>{{ item.product.id }}</td>\r\n                  <td>{{ item.qty }}</td>\r\n                  <td>\r\n                    {{\r\n                      item.product.price === item.product.origin_price\r\n                        ? '無'\r\n                        : `${Math.floor(\r\n                            (item.product.price / item.product.origin_price) *\r\n                              10\r\n                          )}折`\r\n                    }}\r\n                  </td>\r\n                  <td class=\"text-end\">\r\n                    {{ $filters.currency(item.product.price) }}\r\n                  </td>\r\n                  <td class=\"text-end\">\r\n                    {{ $filters.currency(item.final_total) }}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"m-3 p-3 bg-secondary-subtle rounded\">\r\n            <h5 class=\"fw-bolder text-secondary\">訂購人資料</h5>\r\n            <p class=\"mb-2\">\r\n              <span class=\"fw-bolder pe-3\">配送方式</span\r\n              >{{ order.user.address }}\r\n            </p>\r\n            <p class=\"mb-2\">\r\n              <span class=\"fw-bolder pe-3\">訂單備註</span\r\n              >{{ order.message ? order.message : '無' }}\r\n            </p>\r\n            <table class=\"table border-dark mb-2 text-center\">\r\n              <thead>\r\n                <tr>\r\n                  <th>姓名</th>\r\n                  <th>連絡電話</th>\r\n                  <th>聯絡信箱</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td>{{ order.user.name }}</td>\r\n                  <td>{{ order.user.tel }}</td>\r\n                  <td>{{ order.user.email }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" @click=\"hideModal\">\r\n            關閉\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  data() {\r\n    return {\r\n      modal: {},\r\n      order: {},\r\n      orderItems: [],\r\n      couponInfo: {\r\n        total: '',\r\n        title: ''\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  props: ['tempOrder'],\r\n  emits: ['updateOrder'],\r\n  watch: {\r\n    tempOrder() {\r\n      this.getData()\r\n    }\r\n  },\r\n  methods: {\r\n    showModal() {\r\n      this.modal.show()\r\n    },\r\n    hideModal() {\r\n      this.modal.hide()\r\n      this.getData()\r\n    },\r\n    getData() {\r\n      this.order = JSON.parse(JSON.stringify(this.tempOrder))\r\n      this.orderItems = Object.values(this.order.products)\r\n      if (this.orderItems[0].coupon) {\r\n        this.couponInfo.total =\r\n          this.order.total / (this.orderItems[0].coupon.percent / 100) -\r\n          this.order.total\r\n        this.couponInfo.title = `${this.orderItems[0].coupon.code} ${this.orderItems[0].coupon.title}`\r\n      } else {\r\n        this.couponInfo.total = 0\r\n        this.couponInfo.title = '無'\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.modal = new Modal(this.$refs.orderModal, { backdrop: 'static' })\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderModal.vue?vue&type=template&id=06698b19\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrderList.vue?vue&type=template&id=b4db75fa\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","width","role","_createVNode","_component_LoadingVue","active","$data","isLoading","style","_component_OrderModal","tempOrder","onUpdateOrder","$options","updateOrder","ref","_component_deleteModal","deleteOrder","item","onDelete","deleteId","_hoisted_1","_hoisted_2","_hoisted_3","orderList","length","_createElementBlock","_hoisted_4","_Fragment","_renderList","order","key","_toDisplayString","$filters","unixToDate","create_at","id","_normalizeClass","is_paid","user","name","Object","values","products","coupon","title","_hoisted_5","_ctx","currency","total","_hoisted_6","_hoisted_7","type","onClick","$event","editOrder","_hoisted_8","deleteConfirm","_hoisted_9","_component_pagination","pageInfo","onSetPage","getOrderList","tabindex","_cache","args","hideModal","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","unixToDatetime","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","disabled","$emit","_hoisted_19","_hoisted_20","_hoisted_21","orderItems","reduce","acc","cur","qty","couponInfo","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","product","price","origin_price","Math","floor","_hoisted_27","_hoisted_28","final_total","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","address","_hoisted_33","_hoisted_34","message","_hoisted_35","_hoisted_36","tel","email","_hoisted_37","data","modal","props","emits","watch","this","getData","methods","showModal","show","hide","JSON","parse","stringify","percent","code","mounted","Modal","$refs","orderModal","backdrop","__exports__","components","OrderModal","deleteModal","pagination","inject","page","window","scrollTo","top","API_GETORDER","axios","get","then","res","success","orders","emitter","emit","status","catch","e","API_DELETEORDER","delete","current_page","API_UPDATEORDER","put","created","render"],"sourceRoot":""}