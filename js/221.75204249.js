"use strict";(self["webpackChunkproject_macaron"]=self["webpackChunkproject_macaron"]||[]).push([[221],{1122:function(t,e,o){o.d(e,{Z:function(){return p}});var a=o(3396);const n={class:"d-none"};function s(t,e,o,s,r,c){return(0,a.wg)(),(0,a.iD)("p",n,"購物車資訊")}var r={inject:["emitter"],methods:{getCartInfo(){this.emitter.emit("getCartInfo")}},created(){this.emitter.on("cartInfo",(t=>{this.$emit("updateInfo",t)})),this.getCartInfo()}},c=o(89);const i=(0,c.Z)(r,[["render",s]]);var p=i},9221:function(t,e,o){o.r(e),o.d(e,{default:function(){return Z}});var a=o(3396);const n={class:"mt-5"};function s(t,e,o,s,r,c){const i=(0,a.up)("CartInfo"),p=(0,a.up)("CheckStep"),d=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(i,{onUpdateInfo:c.updateInfo},null,8,["onUpdateInfo"]),r.step<4?((0,a.wg)(),(0,a.j4)(p,{key:0,step:r.step},null,8,["step"])):(0,a.kq)("",!0),r.getDataComplete?((0,a.wg)(),(0,a.j4)(d,{key:1,"cart-info":r.cartInfo},null,8,["cart-info"])):(0,a.kq)("",!0)])}var r=o(7139);const c={class:"container"},i=(0,a._)("h5",{class:"mb-0 fw-bolder"},"結帳流程",-1),p={class:"stepInfo d-none d-md-flex mt-2"},d={key:0,class:"fw-normal"},l={key:1,class:"mb-0"},u=(0,a._)("i",{class:"bi bi-flag-fill"},null,-1),f=[u],h={class:"mb-0"},m={class:"accordion d-md-none mt-2",id:"accordionStep"},w={class:"accordion-item rounded-0"},g={key:0,class:"accordion-header"},I={class:"accordion-button rounded-0 fw-bolder",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseStep"},v={class:"accordion-body"},b={class:"mb-0"};function k(t,e,o,n,s,u){return(0,a.wg)(),(0,a.iD)("div",c,[i,(0,a._)("div",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.stepInfo,((t,e)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:"stepInfo"+e},[e>0?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,r.C_)(["deco deco-mid",{decoActive:o.step>e}])},null,2)):(0,a.kq)("",!0),(0,a._)("div",{class:(0,r.C_)(["p-3 w-100 stepDisable",{stepActive:o.step>e}])},[e+1<s.stepInfo.length?((0,a.wg)(),(0,a.iD)("h6",d," STEP "+(0,r.zw)(e+1)+"： ",1)):((0,a.wg)(),(0,a.iD)("p",l,f)),(0,a._)("p",h,(0,r.zw)(t),1)],2)],64)))),128))]),(0,a._)("div",m,[(0,a._)("div",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.stepInfo,((t,e)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:"accordionStepInfo"+e},[o.step===e+1?((0,a.wg)(),(0,a.iD)("h2",g,[(0,a._)("button",I," STEP "+(0,r.zw)(e+1)+"："+(0,r.zw)(t),1)])):((0,a.wg)(),(0,a.iD)("div",{key:1,id:"collapseStep",class:"accordion-collapse collapse rounded-0",style:(0,r.j5)({backgroundColor:o.step>e?"var(--bs-accordion-active-bg)":"white"}),"data-bs-parent":"#accordionStep"},[(0,a._)("div",v,[(0,a._)("p",b,"STEP "+(0,r.zw)(e+1)+"："+(0,r.zw)(t),1)])],4))],64)))),128))])])])}var D={data(){return{stepInfo:["確認明細、輸入優惠碼","填寫訂購人資料","付款","訂單完成"]}},props:["step"]},C=o(89);const _=(0,C.Z)(D,[["render",k]]);var y=_,S=o(1122),j={data(){return{cartInfo:{},getDataComplete:!1,stepArr:["check","purchaserData","payment","complete"],step:3}},components:{CartInfo:S.Z,CheckStep:y},methods:{updateInfo(t){this.cartInfo=t}},watch:{cartInfo(){this.step<2&&this.cartInfo.carts&&this.cartInfo.carts.length<1?this.$router.replace("/cart"):this.getDataComplete=!0}},updated(){"/order"===this.$route.path&&this.$router.replace("/order/check"),this.step=this.stepArr.indexOf(this.$route.name)+1}};const z=(0,C.Z)(j,[["render",s]]);var Z=z}}]);
//# sourceMappingURL=221.75204249.js.map