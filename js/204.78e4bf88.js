(self["webpackChunkproject_macaron"]=self["webpackChunkproject_macaron"]||[]).push([[204],{8803:function(t,s,e){
/*!
  * Bootstrap toast.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(s,i){t.exports=i(e(1884),e(4130),e(9069),e(1437))})(0,(function(t,s,e,i){"use strict";const a="toast",n="bs.toast",o=`.${n}`,r=`mouseover${o}`,c=`mouseout${o}`,l=`focusin${o}`,u=`focusout${o}`,h=`hide${o}`,d=`hidden${o}`,m=`show${o}`,g=`shown${o}`,_="fade",f="hide",b="show",p="showing",v={animation:"boolean",autohide:"boolean",delay:"number"},w={animation:!0,autohide:!0,delay:5e3};class k extends t{constructor(t,s){super(t,s),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return w}static get DefaultType(){return v}static get NAME(){return a}show(){const t=s.trigger(this._element,m);if(t.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(_);const e=()=>{this._element.classList.remove(p),s.trigger(this._element,g),this._maybeScheduleHide()};this._element.classList.remove(f),i.reflow(this._element),this._element.classList.add(b,p),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown())return;const t=s.trigger(this._element,h);if(t.defaultPrevented)return;const e=()=>{this._element.classList.add(f),this._element.classList.remove(p,b),s.trigger(this._element,d)};this._element.classList.add(p),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(b),super.dispose()}isShown(){return this._element.classList.contains(b)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,s){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=s;break;case"focusin":case"focusout":this._hasKeyboardInteraction=s;break}if(s)return void this._clearTimeout();const e=t.relatedTarget;this._element===e||this._element.contains(e)||this._maybeScheduleHide()}_setListeners(){s.on(this._element,r,(t=>this._onInteraction(t,!0))),s.on(this._element,c,(t=>this._onInteraction(t,!1))),s.on(this._element,l,(t=>this._onInteraction(t,!0))),s.on(this._element,u,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const s=k.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof s[t])throw new TypeError(`No method named "${t}"`);s[t](this)}}))}}return e.enableDismissTrigger(k),i.defineJQueryPlugin(k),k}))},8557:function(t,s,e){"use strict";e.d(s,{Z:function(){return n}});e(560);function i(t){return{all:t=t||new Map,on:function(s,e){var i=t.get(s);i?i.push(e):t.set(s,[e])},off:function(s,e){var i=t.get(s);i&&(e?i.splice(i.indexOf(e)>>>0,1):t.set(s,[]))},emit:function(s,e){var i=t.get(s);i&&i.slice().map((function(t){t(e)})),(i=t.get("*"))&&i.slice().map((function(t){t(s,e)}))}}}const a=i();var n=a},251:function(t,s,e){"use strict";e.d(s,{Z:function(){return w}});var i=e(3396);const a={class:"navbar navbar-expand-lg bg-secondary","data-bs-theme":"dark"},n={class:"container-fluid"},o=(0,i._)("h1",{class:"fs-3"},[(0,i.Uk)(" macar"),(0,i._)("i",{class:"bi bi-egg-fill"}),(0,i.Uk)("n ")],-1),r={key:0,class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},c=(0,i._)("span",{class:"navbar-toggler-icon"},null,-1),l=[c],u={key:1,class:"collapse navbar-collapse",id:"navbarNav"},h={class:"navbar-nav d-flex me-auto"},d={class:"nav-item"},m={class:"nav-item"},g={class:"nav-item"};function _(t,s,e,c,_,f){const b=(0,i.up)("LoadingVue"),p=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(b,{active:_.isLoading},null,8,["active"]),(0,i._)("nav",a,[(0,i._)("div",n,[(0,i.Wm)(p,{class:"navbar-brand",to:"/home"},{default:(0,i.w5)((()=>[o])),_:1}),e.isLogin?((0,i.wg)(),(0,i.iD)("button",r,l)):(0,i.kq)("",!0),e.isLogin?((0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("ul",h,[(0,i._)("li",d,[(0,i.Wm)(p,{class:"nav-link",to:"/dashboard/products"},{default:(0,i.w5)((()=>[(0,i.Uk)("產品列表")])),_:1})]),(0,i._)("li",m,[(0,i.Wm)(p,{class:"nav-link",to:"/dashboard/coupons"},{default:(0,i.w5)((()=>[(0,i.Uk)("優惠券列表")])),_:1})]),(0,i._)("li",g,[(0,i.Wm)(p,{class:"nav-link",to:"/dashboard/orders"},{default:(0,i.w5)((()=>[(0,i.Uk)("訂單列表")])),_:1})])]),(0,i._)("button",{class:"btn btn-outline-light",type:"button",onClick:s[0]||(s[0]=(...t)=>f.logout&&f.logout(...t))}," 登出 ")])):(0,i.kq)("",!0)])])],64)}e(560);var f=e(8557),b={data(){return{isLoading:!1}},props:["isLogin"],methods:{logout(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/logout";this.axios.post(t).then((t=>{this.isLoading=!1,this.$router.push("/login")})).catch((t=>{f.Z.emit("sendMsg",{message:`登出失敗(${t})`,status:"error"})}))}}},p=e(89);const v=(0,p.Z)(b,[["render",_]]);var w=v},886:function(t,s,e){"use strict";e.d(s,{Z:function(){return y}});var i=e(3396);const a={class:"position-fixed top-0 end-0 m-5",style:{"z-index":"1056"}};function n(t,s,e,n,o,r){const c=(0,i.up)("Toast");return(0,i.wg)(),(0,i.iD)("div",a,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.messages,((t,s)=>((0,i.wg)(),(0,i.j4)(c,{"toast-msg":t,ToastId:s,key:"msg"+s},null,8,["toast-msg","ToastId"])))),128))])}e(560);var o=e(7139);const r={class:"m-0 text-white"},c={class:"toast-body d-flex"},l={class:"d-flex"},u={key:0,class:"bi bi-check-circle me-2 text-success"},h={key:1,class:"bi bi-exclamation-triangle me-2 text-danger"},d={class:"m-0",style:{"text-align":"justify"}};function m(t,s,e,a,n,m){return(0,i.wg)(),(0,i.iD)("div",{ref:`toast-${e.ToastId}`,class:"toast mb-2 toastPosition"},[e.toastMsg.title?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)(["toast-header d-flex","error"===e.toastMsg.status?"bg-danger":"bg-success"])},[(0,i._)("p",r,(0,o.zw)(e.toastMsg.title),1),(0,i._)("button",{type:"button",class:"btn-close btn-close-sm ms-auto",onClick:s[0]||(s[0]=(...t)=>m.hideToast&&m.hideToast(...t))})],2)):(0,i.kq)("",!0),(0,i._)("div",c,[(0,i._)("div",l,["success"===e.toastMsg.status?((0,i.wg)(),(0,i.iD)("i",u)):((0,i.wg)(),(0,i.iD)("i",h)),(0,i._)("p",d,(0,o.zw)(e.toastMsg.message),1)]),e.toastMsg.title?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"btn-close btn-close-sm ms-auto pe-3",onClick:s[1]||(s[1]=(...t)=>m.hideToast&&m.hideToast(...t))}))]),(0,i._)("div",{class:(0,o.C_)(["toastBar rounded-bottom",{"bg-success":"success"===e.toastMsg.status,"bg-danger":"error"===e.toastMsg.status}])},null,2)],512)}var g=e(8803),_=e.n(g),f={data(){return{toastItem:{}}},props:["toastMsg","ToastId"],methods:{hideToast(){this.toastItem.hide()}},mounted(){this.toastItem=_().getOrCreateInstance(this.$refs[`toast-${this.ToastId}`],{delay:2500}),this.toastItem.show()}},b=e(89);const p=(0,b.Z)(f,[["render",m]]);var v=p,w={data(){return{messages:[]}},inject:["emitter"],methods:{addMessage(t,s,e){this.messages.push({message:t,status:s,title:e})}},components:{Toast:v},created(){this.emitter.on("sendMsg",(t=>{this.addMessage(t.message,t.status,t.title)}))}};const k=(0,b.Z)(w,[["render",n]]);var y=k},1204:function(t,s,e){"use strict";e.r(s),e.d(s,{default:function(){return d}});var i=e(3396);const a={class:"container"};function n(t,s,e,n,o,r){const c=(0,i.up)("DashBoardNav"),l=(0,i.up)("ToastList"),u=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{isLogin:!0}),(0,i._)("div",a,[(0,i.Wm)(l),(0,i.Wm)(u)])],64)}e(560);var o=e(251),r=e(886),c=e(8557),l={components:{DashBoardNav:o.Z,ToastList:r.Z},provide(){return{emitter:c.Z}},created(){const t="https://vue3-course-api.hexschool.io/api/user/check",s=document.cookie.split("; ").find((t=>t.startsWith("webToken=")))?.split("=")[1];this.axios.defaults.headers.common.Authorization=s,this.axios.post(t).then((t=>{t.data.success||(alert(t.data.message),this.$router.push("/login"))}))}},u=e(89);const h=(0,u.Z)(l,[["render",n]]);var d=h}}]);
//# sourceMappingURL=204.78e4bf88.js.map